---
const currentPath = Astro.url.pathname;

const links = [
  { href: '/', label: 'Home' },
  { href: '/about', label: 'About' },
];

const isActive = (href: string) => {
  if (href === '/') return currentPath === '/';
  return currentPath.startsWith(href);
};
---

<header class="p-4 bg-[#E8E2DB]">
	<div class="max-w-4xl mx-auto">
		<div class="nav-card">
			<nav class="flex items-center justify-between w-full">
				<a href="/" class="no-underline hover:opacity-80 transition-opacity flex-shrink-0">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 60" class="h-10 w-auto">
						<g transform="translate(4, 6)">
							<rect x="20" y="0" width="4" height="4" fill="#1A3263"/>
							<rect x="16" y="4" width="4" height="4" fill="#1A3263"/>
							<rect x="17" y="1" width="4" height="4" fill="#c0c0c0"/>
							<rect x="13" y="5" width="4" height="4" fill="#c0c0c0"/>
							<rect x="12" y="8" width="4" height="4" fill="#1A3263"/>
							<rect x="13" y="9" width="4" height="4" fill="#d0d0d0"/>
							<rect x="8" y="12" width="4" height="4" fill="#1A3263"/>
							<rect x="9" y="13" width="4" height="4" fill="#c0c0c0"/>
							<rect x="4" y="16" width="4" height="4" fill="#1A3263"/>
							<rect x="5" y="17" width="4" height="4" fill="#d0d0d0"/>
							<rect x="0" y="20" width="4" height="4" fill="#1A3263"/>
							<rect x="1" y="21" width="4" height="4" fill="#c0c0c0"/>
							<rect x="0" y="24" width="12" height="4" fill="#FAB95B"/>
							<rect x="4" y="24" width="4" height="4" fill="#d4a04e"/>
							<rect x="4" y="28" width="4" height="8" fill="#1A3263"/>
							<rect x="4" y="36" width="4" height="4" fill="#FAB95B"/>
						</g>
						<g transform="translate(212, 6) scale(-1, 1)">
							<rect x="20" y="0" width="4" height="4" fill="#1A3263"/>
							<rect x="16" y="4" width="4" height="4" fill="#1A3263"/>
							<rect x="17" y="1" width="4" height="4" fill="#c0c0c0"/>
							<rect x="13" y="5" width="4" height="4" fill="#c0c0c0"/>
							<rect x="12" y="8" width="4" height="4" fill="#1A3263"/>
							<rect x="13" y="9" width="4" height="4" fill="#d0d0d0"/>
							<rect x="8" y="12" width="4" height="4" fill="#1A3263"/>
							<rect x="9" y="13" width="4" height="4" fill="#c0c0c0"/>
							<rect x="4" y="16" width="4" height="4" fill="#1A3263"/>
							<rect x="5" y="17" width="4" height="4" fill="#d0d0d0"/>
							<rect x="0" y="20" width="4" height="4" fill="#1A3263"/>
							<rect x="1" y="21" width="4" height="4" fill="#c0c0c0"/>
							<rect x="0" y="24" width="12" height="4" fill="#FAB95B"/>
							<rect x="4" y="24" width="4" height="4" fill="#d4a04e"/>
							<rect x="4" y="28" width="4" height="8" fill="#1A3263"/>
							<rect x="4" y="36" width="4" height="4" fill="#FAB95B"/>
						</g>
						<g transform="translate(96, 4)">
							<rect x="12" y="0" width="24" height="4" fill="#1A3263"/>
							<rect x="8" y="4" width="32" height="4" fill="#1A3263"/>
							<rect x="4" y="8" width="40" height="4" fill="#1A3263"/>
							<rect x="4" y="12" width="40" height="4" fill="#547792"/>
							<rect x="4" y="16" width="40" height="4" fill="#1A3263"/>
							<rect x="4" y="20" width="40" height="4" fill="#0f1d3a"/>
							<rect x="4" y="24" width="40" height="4" fill="#1A3263"/>
							<rect x="8" y="28" width="32" height="4" fill="#0f1d3a"/>
							<rect x="8" y="32" width="32" height="4" fill="#1A3263"/>
							<rect x="12" y="36" width="24" height="4" fill="#0f1d3a"/>
							<rect x="16" y="40" width="16" height="4" fill="#1A3263"/>
							<rect x="20" y="44" width="8" height="4" fill="#0f1d3a"/>
							<rect x="22" y="12" width="4" height="4" fill="#FAB95B"/>
							<rect x="18" y="16" width="4" height="4" fill="#FAB95B"/>
							<rect x="22" y="16" width="4" height="4" fill="#fcd077"/>
							<rect x="26" y="16" width="4" height="4" fill="#FAB95B"/>
							<rect x="22" y="20" width="4" height="4" fill="#FAB95B"/>
						</g>
						<text x="36" y="34" font-family="monospace" font-size="16" font-weight="bold" fill="#1A3263" style="letter-spacing: 1px;">DEIN</text>
						<text x="160" y="34" font-family="monospace" font-size="16" font-weight="bold" fill="#1A3263" style="letter-spacing: 1px;">MMO</text>
					</svg>
				</a>
				<div class="flex gap-3">
					{links.map((link) => (
						<a href={link.href} class:list={['nav-btn', { active: isActive(link.href) }]}>
							{link.label}
						</a>
					))}
				</div>
			</nav>
		</div>
	</div>
</header>

<style>
	.nav-card {
		background-color: #fff;
		border: 4px solid #1A3263;
		box-shadow: 4px 4px 0 0 #547792;
		padding: 1rem 1.5rem;
		image-rendering: pixelated;
	}

	.nav-btn {
		display: inline-block;
		background-color: #E8E2DB;
		color: #1A3263;
		border: 3px solid #1A3263;
		box-shadow: 2px 2px 0 0 #547792;
		padding: 0.5rem 1rem;
		font-family: 'Minecraft', monospace;
		font-weight: bold;
		text-decoration: none;
		transition: all 0.1s;
	}

	.nav-btn:hover {
		transform: translate(1px, 1px);
		box-shadow: 1px 1px 0 0 #547792;
	}

	.nav-btn:active {
		transform: translate(2px, 2px);
		box-shadow: none;
	}

	.nav-btn.active {
		background-color: #FAB95B;
	}
</style>
